- provide :page_action, t('g.mine')

= render "projects/officer_subnav"

#searchable-table-page.search-page
  :javascript
    new ProcureIo.Backbone.SearchableTable({
      collection: ProcureIo.Backbone.ProjectList,
      columns: [
        {
          name: "#{t('g.status')}",
          accessor: function(model){
            return "<a data-toggle='tooltip' title='"+model.get('status_text')+"'>\
              <span class='badge badge-indicator "+model.get('status_badge_class')+"'></span>\
            </a>";
          }
          ,
          sortKey: 'name',
          defaultSort: 'asc'
        },
        {
          name: "#{Project.human_attribute_name(:title)}",
          accessor: function(model){
            return "<a href='/projects/"+model.get('id')+"/edit'>" + model.get('title') + "</a>";
          },
          sortKey: 'title',
        },
        {
          name: "#{t('g.number_of_bids')}",
          accessor: 'bids_count',
          sortKey: 'bids_count',
        },
        {
          name: "#{t('g.bids_due')}",
          accessor: 'bids_due_at',
          sortKey: 'bids_due',
        }
      ],
      actions: false
    });


/ = will_paginate @projects, class: "pagination pagination-centered"
